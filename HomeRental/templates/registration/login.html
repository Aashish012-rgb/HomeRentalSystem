{% extends "layout.html" %}

{% block title %}Sign In | HomeRental{% endblock %}

{% block extra_head %}
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<style>
    .hero-strip {
        background: var(--sage-light);
        padding: 1.6rem 2.5rem;
    }

    .hero-strip h1 {
        font-family: "Playfair Display", Georgia, serif;
        font-size: 1.5rem;
        margin-bottom: 0.25rem;
    }

    .hero-strip p {
        margin: 0;
        font-size: 0.9rem;
        color: var(--muted);
    }

    .login-wrap {
        min-height: 64vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 3rem 1rem;
    }

    .login-card {
        background: var(--sage);
        border-radius: 18px;
        padding: 2.5rem 2.2rem;
        width: 100%;
        max-width: 360px;
        color: #fff;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
        animation: fadeUp 0.5s ease both;
    }

    @keyframes fadeUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .card-icon {
        width: 44px;
        height: 44px;
        border: 2px solid rgba(255, 255, 255, 0.7);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 0.75rem;
    }

    .card-icon svg {
        color: rgba(255, 255, 255, 0.9);
    }

    .login-card h2 {
        font-family: "Playfair Display", Georgia, serif;
        text-align: center;
        margin-bottom: 1.4rem;
    }

    .login-card label {
        display: block;
        font-size: 0.85rem;
        font-weight: 600;
        color: #fff;
        margin-bottom: 0.45rem;
    }

    .login-card input[type="text"],
    .login-card input[type="password"],
    .login-card input[type="email"] {
        width: 100%;
        background: rgba(255, 255, 255, 0.55);
        border: 0;
        border-radius: 40px;
        padding: 0.65rem 1.1rem;
        font-size: 0.9rem;
        color: #333;
        outline: none;
        transition: background 0.2s, box-shadow 0.2s;
    }

    .login-card input:focus {
        background: rgba(255, 255, 255, 0.75);
        box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.3);
    }

    .remember-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1.2rem;
        gap: 0.6rem;
    }

    .remember-check {
        display: flex;
        align-items: center;
        gap: 0.4rem;
        font-size: 0.82rem;
        color: rgba(255, 255, 255, 0.9);
        margin: 0;
    }

    .remember-check input {
        width: 14px;
        height: 14px;
        accent-color: #fff;
    }

    .helper-link {
        font-size: 0.82rem;
        color: #fff;
        text-decoration: none;
    }

    .helper-link:hover {
        opacity: 0.75;
    }

    .btn-signin {
        width: 100%;
        border: 0;
        border-radius: 40px;
        padding: 0.75rem;
        background: rgba(255, 255, 255, 0.35);
        color: #fff;
        font-size: 0.95rem;
        font-weight: 500;
        transition: background 0.2s, transform 0.15s;
    }

    .btn-signin:hover {
        background: rgba(255, 255, 255, 0.5);
        transform: translateY(-1px);
    }

    .register-text {
        margin-top: 1rem;
        text-align: center;
        font-size: 0.83rem;
        color: rgba(255, 255, 255, 0.82);
    }

    .register-text a {
        color: #fff;
        font-weight: 600;
        text-decoration: underline;
        text-underline-offset: 2px;
    }

    .form-errors {
        list-style: none;
        margin: 0 0 1rem;
        padding: 0.5rem 0.75rem;
        border-radius: 10px;
        background: rgba(0, 0, 0, 0.2);
        font-size: 0.85rem;
    }
</style>
{% endblock %}

{% block hero %}
<div class="hero-strip">
    <h1>Welcome Back</h1>
    <p>Sign in to access your account</p>
</div>
{% endblock %}

{% block content %}
<section class="login-wrap">
    <div class="login-card">
        <div class="card-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 9.75L12 3l9 6.75V21H15v-5.25H9V21H3V9.75z"/>
            </svg>
        </div>
        <h2>Sign In</h2>

        <form method="post" novalidate>
            {% csrf_token %}

            {% if form.non_field_errors %}
            <ul class="form-errors">
                {% for error in form.non_field_errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
            {% endif %}

            <div class="mb-3">
                <label for="id_username">Email Address</label>
                {{ form.username }}
                {% for error in form.username.errors %}
                <small class="text-white d-block mt-1">{{ error }}</small>
                {% endfor %}
            </div>

            <div class="mb-3">
                <label for="id_password">Password</label>
                {{ form.password }}
                {% for error in form.password.errors %}
                <small class="text-white d-block mt-1">{{ error }}</small>
                {% endfor %}
            </div>

            <div class="remember-row">
                <label class="remember-check"><input type="checkbox" name="remember_me">Remember me</label>
                <a href="{% url 'password_reset' %}" class="helper-link">Forgot Password?</a>
            </div>

            <button type="submit" class="btn-signin">Sign In</button>

            <p class="register-text">Don't have an account? <a href="{% url 'register' %}">Register</a></p>
        </form>
    </div>
</section>
{% endblock %}
